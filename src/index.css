@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-gradient-navy text-white min-h-screen;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
}

@layer components {
  /* Glassmorfismo base */
  .glass-card {
    @apply bg-gradient-glass backdrop-blur-glass border border-white/10 rounded-2xl;
    box-shadow: 
      0 8px 32px 0 rgba(31, 38, 135, 0.37),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .glass-nav {
    @apply bg-gradient-glass backdrop-blur-intense border-b border-white/10;
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  /* Botones con efectos glassmorfismo */
  .btn-primary {
    @apply relative bg-gradient-aqua text-white font-semibold py-4 px-8 rounded-xl;
    @apply transition-all duration-300 transform hover:scale-105;
    @apply border border-aqua-400/30 backdrop-blur-sm overflow-hidden;
    box-shadow: 
      0 4px 15px 0 rgba(20, 184, 166, 0.35),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }
  
  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply transform -skew-x-12 -translate-x-full transition-transform duration-700;
  }
  
  .btn-primary:hover::before {
    @apply translate-x-full;
  }
  
  .btn-primary:hover {
    @apply shadow-aqua-glow-intense;
    box-shadow: 
      0 8px 25px 0 rgba(20, 184, 166, 0.5),
      0 0 30px rgba(20, 184, 166, 0.4),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }
  
  .btn-secondary {
    @apply bg-navy-700/40 text-white font-medium py-3 px-6 rounded-lg;
    @apply transition-all duration-300 hover:bg-navy-600/50 hover:scale-105;
    @apply border border-white/10 backdrop-blur-sm;
    box-shadow: 
      0 2px 10px 0 rgba(15, 23, 42, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .btn-secondary:hover {
    box-shadow: 
      0 4px 15px 0 rgba(15, 23, 42, 0.4),
      0 0 20px rgba(100, 116, 139, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }
  
  /* Tarjetas flotantes con glassmorfismo */
  .card-float {
    @apply glass-card p-8 m-4 relative;
    @apply transition-all duration-500 hover:transform hover:scale-[1.02];
    @apply shadow-navy-deep hover:shadow-float-hover;
    animation: slideUp 0.6s ease-out;
  }
  
  .card-float::before {
    content: '';
    @apply absolute inset-0 bg-gradient-glow rounded-2xl opacity-0 transition-opacity duration-500;
    z-index: -1;
  }
  
  .card-float:hover::before {
    @apply opacity-100;
  }
  
  /* Inputs con glassmorfismo - CORREGIDO PARA VISIBILIDAD */
  .input-glass {
    @apply w-full p-4 rounded-xl transition-all duration-300;
    /* Fondo blanco translúcido para máxima legibilidad */
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    /* Texto oscuro para máximo contraste */
    color: #1f2937 !important;
    font-weight: 500 !important;
    box-shadow: 
      inset 0 2px 4px 0 rgba(0, 0, 0, 0.1),
      0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .input-glass::placeholder {
    color: #6b7280 !important;
    font-weight: 400 !important;
  }
  
  .input-glass:focus {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #2dd4bf !important;
    box-shadow: 
      inset 0 2px 4px 0 rgba(0, 0, 0, 0.1),
      0 0 0 3px rgba(20, 184, 166, 0.3),
      0 0 20px rgba(20, 184, 166, 0.2);
  }
  
  .input-glass:hover {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #5eead4 !important;
  }
  
  /* Efectos de resplandor */
  .glow-aqua {
    @apply relative;
    animation: glowPulse 4s ease-in-out infinite;
  }
  
  .glow-aqua::before {
    content: '';
    @apply absolute inset-0 bg-gradient-aqua rounded-xl blur-xl opacity-20;
    z-index: -1;
  }
  
  /* Navegación mejorada */
  .nav-link {
    @apply text-gray-300 hover:text-white transition-all duration-300;
    @apply relative py-2 px-4 rounded-lg;
  }
  
  .nav-link::before {
    content: '';
    @apply absolute inset-0 bg-white/5 backdrop-blur-sm rounded-lg opacity-0 transition-opacity duration-300;
  }
  
  .nav-link:hover::before {
    @apply opacity-100;
  }
  
  .nav-link.active {
    @apply text-aqua-400 bg-aqua-500/10;
  }
}

/* ===== RESPONSIVIDAD MÓVIL COMPLETA ===== */

/* Móviles pequeños (320px - 480px) */
@media (max-width: 480px) {
  .card-float {
    @apply p-4 m-2;
    margin-left: 0.5rem !important;
    margin-right: 0.5rem !important;
  }
  
  .glass-card {
    @apply p-4;
    border-radius: 1rem !important;
  }
  
  .btn-primary {
    @apply py-3 px-6 text-sm;
    font-size: 0.875rem !important;
  }
  
  .btn-secondary {
    @apply py-2.5 px-4 text-sm;
    font-size: 0.875rem !important;
  }
  
  .input-glass {
    @apply p-3 text-base;
    font-size: 16px !important; /* Evita zoom en iOS */
  }
  
  .nav-link {
    @apply py-1.5 px-3 text-sm;
  }
  
  /* Glow effects reducidos en móvil */
  .glow-aqua::before {
    @apply blur-lg opacity-10;
  }
}

/* Móviles medianos (481px - 640px) */
@media (max-width: 640px) {
  .card-float {
    @apply p-5 m-3;
  }
  
  .btn-primary {
    @apply py-3.5 px-7;
  }
  
  .btn-secondary {
    @apply py-3 px-5;
  }
  
  .input-glass {
    @apply p-3.5;
    font-size: 16px !important; /* Evita zoom en iOS */
  }
  
  /* Contenedores responsivos */
  .container {
    @apply px-4;
  }
  
  /* Tipografía móvil */
  h1 {
    @apply text-2xl leading-tight;
  }
  
  h2 {
    @apply text-xl;
  }
  
  h3 {
    @apply text-lg;
  }
}

/* Tablets (641px - 768px) */
@media (max-width: 768px) {
  .card-float {
    @apply p-6 m-3;
  }
  
  .glass-nav {
    @apply px-4 py-3;
  }
  
  .btn-primary:hover {
    @apply scale-100; /* Reduce hover scale en tablets */
  }
  
  .btn-secondary:hover {
    @apply scale-100;
  }
  
  /* Grid responsivo para tarjetas */
  .grid-responsive {
    @apply grid-cols-1 gap-4;
  }
}

/* Tablets grandes (769px - 1024px) */
@media (max-width: 1024px) {
  .card-float {
    @apply p-7;
  }
  
  .nav-link {
    @apply px-3 py-2 text-sm;
  }
  
  /* Navegación tablet */
  .nav-desktop {
    @apply hidden;
  }
  
  .nav-mobile {
    @apply block;
  }
}

/* Mejoras específicas para touch devices */
@media (hover: none) and (pointer: coarse) {
  .btn-primary:hover {
    @apply scale-100;
    box-shadow: 
      0 4px 15px 0 rgba(20, 184, 166, 0.35),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }
  
  .btn-secondary:hover {
    @apply scale-100;
  }
  
  .card-float:hover {
    @apply scale-100;
  }
  
  .nav-link:hover::before {
    @apply opacity-0;
  }
  
  /* Área táctil mínima de 44px */
  .btn-primary,
  .btn-secondary {
    min-height: 44px !important;
    min-width: 44px !important;
  }
  
  .input-glass {
    min-height: 44px !important;
  }
}

/* Orientación landscape en móviles */
@media (max-width: 896px) and (orientation: landscape) {
  .card-float {
    @apply p-4 m-2;
  }
  
  .glass-nav {
    @apply py-2;
  }
  
  /* Reduce altura de elementos en landscape */
  .btn-primary,
  .btn-secondary {
    @apply py-2;
  }
  
  .input-glass {
    @apply py-2;
  }
}

/* Mejoras de accesibilidad móvil */
@media (max-width: 640px) {
  /* Focus visible mejorado */
  .btn-primary:focus,
  .btn-secondary:focus,
  .input-glass:focus {
    outline: 2px solid #2dd4bf !important;
    outline-offset: 2px !important;
  }
  
  /* Espaciado táctil mejorado */
  .nav-link {
    @apply mb-1;
  }
  
  /* Texto legible en móvil */
  .text-responsive {
    @apply text-base leading-relaxed;
  }
}

/* Optimizaciones de rendimiento para móvil */
@media (max-width: 768px) {
  /* Reduce animaciones complejas */
  .card-float {
    animation: none !important;
  }
  
  .glow-aqua {
    animation: none !important;
  }
  
  /* Simplifica sombras en móvil */
  .glass-card {
    box-shadow: 0 4px 16px 0 rgba(31, 38, 135, 0.2) !important;
  }
  
  .btn-primary {
    box-shadow: 0 2px 8px 0 rgba(20, 184, 166, 0.25) !important;
  }
  
  /* Reduce blur en móvil para mejor rendimiento */
  .glass-nav {
    backdrop-filter: blur(8px) !important;
  }
  
  .glass-card {
    backdrop-filter: blur(8px) !important;
  }
}

/* Soporte para notch en iPhone X+ */
@supports (padding: max(0px)) {
  .glass-nav {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
  
  .container {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* Dark mode específico para móvil */
@media (prefers-color-scheme: dark) and (max-width: 768px) {
  .input-glass {
    background: rgba(255, 255, 255, 0.95) !important;
    color: #1f2937 !important;
  }
  
  .input-glass::placeholder {
    color: #6b7280 !important;
  }
}
