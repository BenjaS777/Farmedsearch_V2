@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    box-sizing: border-box;
  }
  
  html {
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-gradient-navy text-white min-h-screen;
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
}

@layer components {
  /* Glassmorfismo base */
  .glass-card {
    @apply bg-gradient-glass backdrop-blur-glass border border-white/10 rounded-2xl;
    box-shadow: 
      0 8px 32px 0 rgba(31, 38, 135, 0.37),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .glass-nav {
    @apply bg-gradient-glass backdrop-blur-intense border-b border-white/10;
    box-shadow: 
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  /* Botones con efectos glassmorfismo */
  .btn-primary {
    @apply relative bg-gradient-aqua text-white font-semibold py-4 px-8 rounded-xl;
    @apply transition-all duration-300 transform hover:scale-105;
    @apply border border-aqua-400/30 backdrop-blur-sm overflow-hidden;
    box-shadow: 
      0 4px 15px 0 rgba(20, 184, 166, 0.35),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }
  
  .btn-primary::before {
    content: '';
    @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent;
    @apply transform -skew-x-12 -translate-x-full transition-transform duration-700;
  }
  
  .btn-primary:hover::before {
    @apply translate-x-full;
  }
  
  .btn-primary:hover {
    @apply shadow-aqua-glow-intense;
    box-shadow: 
      0 8px 25px 0 rgba(20, 184, 166, 0.5),
      0 0 30px rgba(20, 184, 166, 0.4),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }
  
  .btn-secondary {
    @apply bg-navy-700/40 text-white font-medium py-3 px-6 rounded-lg;
    @apply transition-all duration-300 hover:bg-navy-600/50 hover:scale-105;
    @apply border border-white/10 backdrop-blur-sm;
    box-shadow: 
      0 2px 10px 0 rgba(15, 23, 42, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .btn-secondary:hover {
    box-shadow: 
      0 4px 15px 0 rgba(15, 23, 42, 0.4),
      0 0 20px rgba(100, 116, 139, 0.3),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }
  
  /* Tarjetas flotantes con glassmorfismo */
  .card-float {
    @apply glass-card p-8 m-4 relative;
    @apply transition-all duration-500 hover:transform hover:scale-[1.02];
    @apply shadow-navy-deep hover:shadow-float-hover;
    animation: slideUp 0.6s ease-out;
  }
  
  .card-float::before {
    content: '';
    @apply absolute inset-0 bg-gradient-glow rounded-2xl opacity-0 transition-opacity duration-500;
    z-index: -1;
  }
  
  .card-float:hover::before {
    @apply opacity-100;
  }
  
  /* Inputs con glassmorfismo */
  .input-glass {
    @apply w-full p-4 rounded-xl transition-all duration-300;
    background: rgba(255, 255, 255, 0.9) !important;
    backdrop-filter: blur(16px) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important;
    color: #1f2937 !important;
    font-weight: 500 !important;
    box-shadow: 
      inset 0 2px 4px 0 rgba(0, 0, 0, 0.1),
      0 1px 0 0 rgba(255, 255, 255, 0.05);
  }
  
  .input-glass::placeholder {
    color: #6b7280 !important;
    font-weight: 400 !important;
  }
  
  .input-glass:focus {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #2dd4bf !important;
    box-shadow: 
      inset 0 2px 4px 0 rgba(0, 0, 0, 0.1),
      0 0 0 3px rgba(20, 184, 166, 0.3),
      0 0 20px rgba(20, 184, 166, 0.2);
  }
  
  .input-glass:hover {
    background: rgba(255, 255, 255, 0.95) !important;
    border-color: #5eead4 !important;
  }
  
  /* Efectos de resplandor */
  .glow-aqua {
    @apply relative;
    animation: glowPulse 4s ease-in-out infinite;
  }
  
  .glow-aqua::before {
    content: '';
    @apply absolute inset-0 bg-gradient-aqua rounded-xl blur-xl opacity-20;
    z-index: -1;
  }
  
  /* Navegación mejorada */
  .nav-link {
    @apply text-gray-300 hover:text-white transition-all duration-300;
    @apply relative py-2 px-4 rounded-lg;
  }
  
  .nav-link::before {
    content: '';
    @apply absolute inset-0 bg-white/5 backdrop-blur-sm rounded-lg opacity-0 transition-opacity duration-300;
  }
  
  .nav-link:hover::before {
    @apply opacity-100;
  }
  
  .nav-link.active {
    @apply text-aqua-400 bg-aqua-500/10;
  }
}

/* ===== MEJORAS ESPECÍFICAS SEGÚN INSTRUCCIONES ===== */

@media (max-width: 768px) {
  
  /* ===== 1. SIDEBAR (MENÚ LATERAL MOBILE) ===== */
  .sidebar {
    padding: 24px 20px !important;
  }
  
  .sidebar-section {
    margin-bottom: 16px !important;
  }
  
  .sidebar .nav-link,
  .sidebar-menu-item {
    padding: 12px 0 !important;
    line-height: 1.6 !important;
    min-height: 48px !important;
  }
  
  /* ===== 2. FORMULARIO DE CORREO ELECTRÓNICO ===== */
  .email-subscription .card-float,
  .email-form-container {
    padding: 16px !important;
  }
  
  .email-form .input-glass,
  .email-subscription input {
    margin-bottom: 16px !important;
    border-radius: 12px !important;
    font-size: 16px !important;
    min-height: 48px !important;
  }
  
  .email-form .btn-primary,
  .email-subscription button {
    width: 100% !important;
    margin-top: 16px !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
    min-height: 48px !important;
  }
  
  /* ===== 3. TARJETAS INFORMATIVAS DE MEDICAMENTOS ===== */
  .result-card,
  .medication-card,
  #ficha-medicamento .glass-card {
    margin-bottom: 24px !important;
    padding: 20px !important;
    border-radius: 16px !important;
  }
  
  .result-card .icon,
  .medication-card .icon {
    text-align: left !important;
    margin-right: 12px !important;
  }
  
  .result-card h3,
  .medication-card h3,
  .result-card .title {
    text-align: left !important;
    margin-left: 0 !important;
  }
  
  .result-card p,
  .medication-card p,
  .result-card .content {
    line-height: 1.65 !important;
    font-size: 15px !important;
  }
  
  /* ===== 4. PLANES DE SUSCRIPCIÓN ===== */
  .plan-card,
  #pricing .glass-card {
    padding: 24px 20px !important;
    margin-bottom: 32px !important;
  }
  
  .plan-card ul li,
  .plan-benefits li {
    line-height: 1.7 !important;
    margin-bottom: 8px !important;
  }
  
  .plan-card .btn-primary,
  .plan-card button,
  #pricing button {
    width: 100% !important;
    margin-top: 20px !important;
    min-height: 48px !important;
  }
  
  /* ===== 5. AJUSTES GENERALES MOBILE ===== */
  .container,
  .card-float,
  .glass-card {
    max-width: 90vw !important;
  }
  
  /* Elementos tap-friendly */
  button,
  .btn-primary,
  .btn-secondary,
  .nav-link,
  input,
  .input-glass,
  a {
    min-height: 48px !important;
    min-width: 48px !important;
  }
  
  /* Separación entre elementos clicables */
  button + button,
  .btn-primary + .btn-primary,
  .nav-link + .nav-link {
    margin-top: 8px !important;
  }
  
  /* ===== MEJORAS ADICIONALES ESPECÍFICAS ===== */
  
  /* Espaciado entre secciones principales */
  section {
    margin-bottom: 32px !important;
  }
  
  /* Títulos con mejor espaciado */
  h1, h2, h3 {
    margin-bottom: 16px !important;
    line-height: 1.4 !important;
  }
  
  /* Párrafos con mejor legibilidad */
  p {
    line-height: 1.6 !important;
    margin-bottom: 12px !important;
  }
  
  /* Listas con mejor espaciado */
  ul, ol {
    margin: 16px 0 !important;
  }
  
  li {
    margin-bottom: 8px !important;
    line-height: 1.6 !important;
  }
  
  /* Grid con gaps apropiados */
  .grid {
    gap: 20px !important;
  }
  
  /* Formularios con mejor espaciado */
  form {
    padding: 16px !important;
  }
  
  form input,
  form textarea,
  form select {
    margin-bottom: 16px !important;
    border-radius: 12px !important;
    font-size: 16px !important;
  }
  
  /* Testimonials con mejor espaciado */
  .testimonial-card {
    margin-bottom: 24px !important;
    padding: 20px !important;
  }
  
  /* FAQ con mejor espaciado */
  .faq-item {
    margin-bottom: 16px !important;
    padding: 16px !important;
  }
  
  /* Billing toggle con mejor espaciado */
  .billing-toggle {
    margin: 20px 0 !important;
    padding: 8px !important;
  }
  
  .billing-toggle span {
    padding: 12px 16px !important;
    min-height: 48px !important;
  }
}

/* ===== RESPONSIVIDAD MÓVIL MANTENIDA ===== */

/* Móviles pequeños (320px - 480px) */
@media (max-width: 480px) {
  .card-float {
    padding: 16px !important;
    margin: 8px !important;
    max-width: 95vw !important;
  }
  
  .glass-card {
    padding: 16px !important;
    border-radius: 12px !important;
  }
  
  .btn-primary {
    padding: 12px 20px !important;
    font-size: 14px !important;
  }
  
  .btn-secondary {
    padding: 10px 16px !important;
    font-size: 14px !important;
  }
  
  .input-glass {
    padding: 12px !important;
    font-size: 16px !important;
  }
}

/* Mejoras específicas para touch devices */
@media (hover: none) and (pointer: coarse) {
  .btn-primary:hover {
    transform: none !important;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
  }
  
  .btn-secondary:hover {
    transform: none !important;
  }
  
  .card-float:hover {
    transform: none !important;
  }
}

/* Soporte para notch en iPhone X+ */
@supports (padding: max(0px)) {
  .glass-nav {
    padding-left: max(20px, env(safe-area-inset-left)) !important;
    padding-right: max(20px, env(safe-area-inset-right)) !important;
  }
  
  .container {
    padding-left: max(16px, env(safe-area-inset-left)) !important;
    padding-right: max(16px, env(safe-area-inset-right)) !important;
  }
}
